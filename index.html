<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<title>Einsatzplanung</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <div class="alert">
      Wichtig: F√ºr aktuelle Infos bitte die 
      <a href="https://www.offizielle-website.ch/" target="_blank">offizielle Webseite</a> besuchen.
    </div>

    <div class="settings-bar">
      <span class="settings-label">Einstellungen:</span>
      <button class="dark-mode-toggle" onclick="toggleDarkMode()">
        <span id="darkModeIcon">üåô</span>
        <span id="darkModeText">Dunkelmodus</span>
      </button>
      <button class="dev-mode-toggle" onclick="toggleDevMode()">
        <span>üõ†Ô∏è</span>
        <span id="devModeText">Developer-Modus</span>
      </button>
    </div>

    <div class="dev-controls">
      <strong>Developer-Modus aktiv:</strong> Sie k√∂nnen jetzt Zeitspalten im Wochenplan hinzuf√ºgen/l√∂schen (klicken Sie auf die <span style="color: #28a745;">+</span> Buttons) und die Zeiten direkt bearbeiten (klicken Sie auf die Uhrzeiten im Wochenplan-Header).
    </div>

    <div class="einsatzplan-dashboard-container">
      <div class="einsatzplan-wrapper">
        <h2>Einsatzplan</h2>
        <div class="table-wrapper">
          <table id="einsatzplanTable">
            <thead class="einsatzplan-header">
              <tr>
                <th>SCHICHT (EDITIERBAR)</th>
                <th style="text-align: center;">MA</th>
              </tr>
            </thead>
            <tbody>
              <tr draggable="true">
                <td>
                  <span class="drag-handle">‚ãÆ‚ãÆ</span>
                  <span id="fruehName" class="schicht-frueh editable" contenteditable="true">FR√úH</span>
                </td>
                <td style="text-align: center;">
                  <input type="number" class="ma-input" id="maFrueh" value="20" min="0">
                </td>
              </tr>
              <tr draggable="true">
                <td>
                  <span class="drag-handle">‚ãÆ‚ãÆ</span>
                  <span id="spatName" class="schicht-spat editable" contenteditable="true">SP√ÑT</span>
                </td>
                <td style="text-align: center;">
                  <input type="number" class="ma-input" id="maSpat" value="8" min="0">
                </td>
              </tr>
              <tr draggable="true">
                <td>
                  <span class="drag-handle">‚ãÆ‚ãÆ</span>
                  <span id="taetiName" class="schicht-taeti editable" contenteditable="true">T√ÑTI</span>
                </td>
                <td style="text-align: center;">
                  <input type="number" class="ma-input" id="maTaeti" value="6" min="0">
                </td>
              </tr>
              <tr draggable="true">
                <td>
                  <span class="drag-handle">‚ãÆ‚ãÆ</span>
                  <span id="nachtName" class="schicht-nacht editable" contenteditable="true">NACHT</span>
                </td>
                <td style="text-align: center;">
                  <input type="number" class="ma-input" id="maNacht" value="0" min="0">
                </td>
              </tr>
              <tr draggable="true">
                <td>
                  <span class="drag-handle">‚ãÆ‚ãÆ</span>
                  <span id="extraName" class="schicht-extra editable" contenteditable="true">EXTRA</span>
                </td>
                <td style="text-align: center;">
                  <input type="number" class="ma-input" id="maExtra" value="0" min="0">
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="dashboard-wrapper">
        <div class="dashboard-grid">
          <div class="status-wrapper">
            <div class="status-text-box">
              <div class="db-label">stataus%</div>
              <div id="statusValue" class="db-value">102%</div>
            </div>
            <div class="status-icons-container">
              <div class="status-icons-box">
                <div class="status-icon green" id="ampelGreen"></div>
                <div class="status-icon orange" id="ampelOrange"></div>
                <div class="status-icon red" id="ampelRed"></div>
              </div>
            </div>
          </div>
          <div class="db-box">
            <div class="db-label">Gesamt MA</div>
            <div id="gesamtMA" class="db-value">34</div>
          </div>
          <div class="db-box">
            <div class="db-label">Live Uhrzeit</div>
            <div id="liveClock" class="db-value">09:39:04</div>
          </div>
          <div class="db-box">
            <div class="db-label">Platzhalter</div>
            <div class="db-value">-</div>
          </div>
        </div>
      </div>
    </div>

    <h2>Pools mit Berechnung der ben√∂tigten MA</h2>
    <div class="table-wrapper">
      <table class="pools-table" id="poolsTable">
        <thead class="pools-header">
          <tr>
            <th style="text-align: left;">POOLS</th>
            <th>STARTZEIT</th>
            <th>DEADLINE</th>
            <th>DAUER (H)</th>
            <th>PRO STUNDE</th>
            <th>SCHICHT</th>
            <th>BEN√ñTIGTE MA</th>
          </tr>
        </thead>
        <tbody>
          <tr draggable="true" data-pool="2000" data-dauer="2.75" data-prostunde="80">
            <td>
              <span class="pool-badge">‚ãÆ‚ãÆ</span>
              <span class="pool-badge">2000</span>
              La Poste FR
            </td>
            <td>06:00</td>
            <td>08:45</td>
            <td>2.75</td>
            <td>80</td>
            <td><span class="schicht-frueh">FR√úH</span></td>
            <td class="bedarf">9.09</td>
          </tr>
          <tr draggable="true" data-pool="1000" data-dauer="4" data-prostunde="80">
            <td>
              <span class="pool-badge">‚ãÆ‚ãÆ</span>
              <span class="pool-badge">1000</span>
              DPAG
            </td>
            <td>06:00</td>
            <td>10:00</td>
            <td>4</td>
            <td>80</td>
            <td><span class="schicht-frueh">FR√úH</span></td>
            <td class="bedarf">3.13</td>
          </tr>
          <tr draggable="true" data-pool="4000" data-dauer="5" data-prostunde="80">
            <td>
              <span class="pool-badge">‚ãÆ‚ãÆ</span>
              <span class="pool-badge">4000</span>
              NL/DK/NO/SE/CZ/LU/HU/IS
            </td>
            <td>06:00</td>
            <td>11:00</td>
            <td>5</td>
            <td>80</td>
            <td><span class="schicht-frueh">FR√úH</span></td>
            <td class="bedarf">10</td>
          </tr>
          <tr draggable="true" data-pool="2000" data-dauer="8" data-prostunde="80">
            <td>
              <span class="pool-badge">‚ãÆ‚ãÆ</span>
              <span class="pool-badge">2000</span>
              EMS alle
            </td>
            <td>06:00</td>
            <td>14:00</td>
            <td>8</td>
            <td>80</td>
            <td><span class="schicht-spat">SP√ÑT</span></td>
            <td class="bedarf">3.13</td>
          </tr>
          <tr draggable="true" data-pool="800" data-dauer="9" data-prostunde="80">
            <td>
              <span class="pool-badge">‚ãÆ‚ãÆ</span>
              <span class="pool-badge">800</span>
              IT/BE/GB
            </td>
            <td>06:00</td>
            <td>15:00</td>
            <td>9</td>
            <td>80</td>
            <td><span class="schicht-spat">SP√ÑT</span></td>
            <td class="bedarf">1.11</td>
          </tr>
          <tr draggable="true" data-pool="500" data-dauer="10.5" data-prostunde="80">
            <td>
              <span class="pool-badge">‚ãÆ‚ãÆ</span>
              <span class="pool-badge">500</span>
              AT
            </td>
            <td>06:00</td>
            <td>16:30</td>
            <td>10.5</td>
            <td>80</td>
            <td><span class="schicht-spat">SP√ÑT</span></td>
            <td class="bedarf">0.6</td>
          </tr>
          <tr draggable="true" data-pool="800" data-dauer="13" data-prostunde="80">
            <td>
              <span class="pool-badge">‚ãÆ‚ãÆ</span>
              <span class="pool-badge">800</span>
              JP/AU/HK/TH/CA/US
            </td>
            <td>06:00</td>
            <td>19:00</td>
            <td>13</td>
            <td>80</td>
            <td><span class="schicht-spat">SP√ÑT</span></td>
            <td class="bedarf">0.77</td>
          </tr>
          <tr draggable="true" data-pool="500" data-dauer="10" data-prostunde="80">
            <td>
              <span class="pool-badge">‚ãÆ‚ãÆ</span>
              <span class="pool-badge">500</span>
              EMC L√§nder
            </td>
            <td>06:00</td>
            <td>16:00</td>
            <td>10</td>
            <td>80</td>
            <td><span class="schicht-spat">SP√ÑT</span></td>
            <td class="bedarf">0.63</td>
          </tr>
          <tr draggable="true" data-pool="1000" data-dauer="11" data-prostunde="80">
            <td>
              <span class="pool-badge">‚ãÆ‚ãÆ</span>
              <span class="pool-badge">1000</span>
              Endpunkt
            </td>
            <td>06:00</td>
            <td>17:00</td>
            <td>11</td>
            <td>80</td>
            <td><span class="schicht-spat">SP√ÑT</span></td>
            <td class="bedarf">1.14</td>
          </tr>
          <tr draggable="true" data-pool="4000" data-dauer="13" data-prostunde="80">
            <td>
              <span class="pool-badge">‚ãÆ‚ãÆ</span>
              <span class="pool-badge">4000</span>
              Kleinwaren M√ºlligen
            </td>
            <td>06:00</td>
            <td>19:00</td>
            <td>13</td>
            <td>80</td>
            <td><span class="schicht-spat">SP√ÑT</span></td>
            <td class="bedarf">3.85</td>
          </tr>
        </tbody>
      </table>
    </div>

    <h2>Wochenplan</h2>
    <div class="table-wrapper">
      <table class="wochenplan-table" id="wochenplanTable">
        <thead>
          <tr>
            <th>06:00</th>
            <th>07:00</th>
            <th>08:00</th>
            <th>09:00</th>
            <th>10:00</th>
            <th>11:00</th>
            <th>12:00</th>
            <th>13:00</th>
            <th>14:00</th>
            <th>15:00</th>
            <th>16:00</th>
            <th>17:00</th>
            <th>18:00</th>
            <th>19:00</th>
          </tr>
        </thead>
        <tbody id="wochenplanBody">
        </tbody>
      </table>
    </div>

    <div class="date-navigation">
      <button class="date-nav-btn" onclick="changeDate(-1)">‚óÄ</button>
      <div class="date-display" id="currentDate">Donnerstag, 03. Oktober 2025</div>
      <button class="date-nav-btn" onclick="changeDate(1)">‚ñ∂</button>
      <button class="heute-btn" onclick="goToToday()">Heute</button>
    </div>

    <div class="drag-items-container">
      <div class="drag-section">
        <h3>Schichten</h3>
        <div class="drag-items-grid" id="schichtenGrid">
          <div class="drag-item schicht-item" draggable="true" data-type="schicht" data-value="FR√úH" style="background: #4a90e2;">FR√úH</div>
          <div class="drag-item schicht-item" draggable="true" data-type="schicht" data-value="SP√ÑT" style="background: #17a2b8;">SP√ÑT</div>
          <div class="drag-item schicht-item" draggable="true" data-type="schicht" data-value="T√ÑTI" style="background: #e67e22;">T√ÑTI</div>
          <div class="drag-item schicht-item" draggable="true" data-type="schicht" data-value="NACHT" style="background: #6c757d;">NACHT</div>
          <div class="drag-item schicht-item" draggable="true" data-type="schicht" data-value="EXTRA" style="background: #28a745;">EXTRA</div>
        </div>
      </div>

      <div class="drag-section">
        <h3>Pools / Produkte</h3>
        <div class="drag-items-grid" id="poolsGrid">
        </div>
      </div>
    </div>
  </div>


<script src="script.js"></script>
</body>
</html>
